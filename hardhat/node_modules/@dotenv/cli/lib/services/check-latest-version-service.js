"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CheckLatestVersionService = void 0;
const compareVersions = require("compare-versions");
const axios = require('axios');
const packageJson = require('../../package.json');
const vars_1 = require("../vars");
class CheckLatestVersionService {
    async run() {
        const resp = await axios(this._versionOptions);
        if (resp.status === 200) {
            if (compareVersions.compare(resp.data, packageJson.version, '>')) {
                console.log('********* New version of dotenv-cli available *********');
                console.log('');
                console.log('    Run `npm install @dotenv/cli -g` to install');
                console.log('');
                console.log('*******************************************************');
            }
        }
    }
    get _versionOptions() {
        const url = vars_1.vars.apiUrl + '/v1/version';
        const options = {
            method: 'GET',
            data: {},
            url,
        };
        return options;
    }
}
exports.CheckLatestVersionService = CheckLatestVersionService;
